/*
 * solar-system
 * @Description Solar System with Threejs
 * @version v0.0.18 - 2015-08-26
 * @link https://github.com/KenEDR/three-solar-system#readme
 * @author Enrique Daimiel Ruiz <k.daimiel@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
define("scene-factory",function(){"use strict";function a(a){f=new THREE.PerspectiveCamera(a.fov,window.innerWidth/window.innerHeight,a.near,a.far),f.position.x=a.position.x,f.position.y=a.position.y,f.position.z=a.position.z,h=new THREE.TrackballControls(f),h.addEventListener("change",c)}function b(a){var b=new THREE.SphereGeometry(a.radius,50,50),c=THREE.ImageUtils.loadTexture(a.textureUrl),d=new THREE.MeshBasicMaterial({map:c}),e=new THREE.Mesh(b,d);e.name=a.name,e.position.z=a.distance||0,console.log(a.tilt),e.phiStart=a.tilt,i.add(e),e.Yrotation=a.rotation,j.push(e)}function c(){g.render(i,f)}function d(){g=new THREE.WebGLRenderer,g.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(g.domElement),e()}function e(){requestAnimationFrame(e),h&&h.update();for(var a in j)j[a].rotation.y+=j[a].Yrotation;c()}var f,g,h,i=new THREE.Scene,j=[],k={createCamera:a,createMesh:b,init:d};return k}),define("solar-service",function(){"use strict";function a(a){c("../src/data/solar-camera.json",a)}function b(a){c("../src/data/solar-objects.json",a)}function c(a,b){$.ajax(a,{success:function(a){return b(a)},error:function(a){console.err("Load JSON error:"+a)}})}var d={getCamera:a,getObjects:b};return d}),require(["scene-factory","solar-service"],function(a,b){function c(b){a.createCamera(b),a.init()}function d(b){b.forEach(function(b){a.createMesh(b)})}b.getCamera(c),b.getObjects(d)});