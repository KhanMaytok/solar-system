/*
 * solar-system
 * @Description Solar System with Threejs
 * @version v0.0.14 - 2015-08-24
 * @link https://github.com/KenEDR/three-solar-system#readme
 * @author Enrique Daimiel Ruiz <k.daimiel@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
define("scene-factory",function(){"use strict";function a(a){var b=new THREE.PerspectiveCamera(a.fov,window.innerWidth/window.innerHeight,a.near,a.far);return b.position.z=a.position.z,b}function b(a){var b=new THREE.SphereGeometry(a.radius,50,50),c=THREE.ImageUtils.loadTexture(a.textureUrl),d=new THREE.MeshBasicMaterial({map:c}),e=new THREE.Mesh(b,d);return e.position.z=a.distance||0,e}var c={createCamera:a,createMesh:b};return c}),define("solar-service",function(){"use strict";function a(a){c("../src/data/solar-camera.json",a)}function b(a){c("../src/data/solar-objects.json",a)}function c(a,b){$.ajax(a,{success:function(a){return b(a)},error:function(a){console.err("Load JSON error:"+a)}})}var d={getCamera:a,getObjects:b};return d}),require(["scene-factory","solar-service"],function(a,b){function c(){j.render(h,i)}function d(){h=new THREE.Scene,b.getCamera(f),b.getObjects(g)}function e(){requestAnimationFrame(e),k.update(),c()}function f(b){i=a.createCamera(b),k=new THREE.TrackballControls(i),k.addEventListener("change",c),j=new THREE.WebGLRenderer,j.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(j.domElement),e()}function g(b){b.forEach(function(b){h.add(a.createMesh(b))})}var h,i,j,k;d()});